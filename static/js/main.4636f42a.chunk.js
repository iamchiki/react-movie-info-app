(this["webpackJsonpreact-movie-info-app"]=this["webpackJsonpreact-movie-info-app"]||[]).push([[0],{17:function(e,t,s){},18:function(e,t,s){},21:function(e,t,s){"use strict";s.r(t);s(12);var c=s(1),i=s.n(c),r=s(8),n=s.n(r),a=(s(17),s(18),s(3)),o=s.n(a),l=s(11),d=s(6),j=i.a.createContext({movieList:[],showMovieDtl:!1,showMovieList:!1,diaplayMovies:function(e){},displayMovieInfo:function(e){},movieInfo:null,isLoading:!1,setRequestStatus:function(e){},error:{showError:!1,message:null}}),m=s(0),b=function(e){return Object(m.jsx)("button",{className:"btn btn-outline-light",type:"submit",children:e.children})},u=i.a.forwardRef((function(e,t){return Object(m.jsx)("input",{className:"form-control form-control-dark mr-lg-3",type:"search",placeholder:"Enter Movie Name","aria-label":"Search",ref:t})})),h=function(e){var t=i.a.createRef(),s=Object(c.useContext)(j),r=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.omdbapi.com/?apikey=".concat("3b8cf2cb&s","=").concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:if(!(i=e.sent).Error){e.next=9;break}throw new Error(i.Error);case 9:s.movieList=Object(l.a)(i.Search),s.diaplayMovies(s.movieList),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s.setRequestStatus({statusType:"error",message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{className:"col-12 col-lg-auto d-flex flex-column flex-lg-row",onSubmit:function(e){e.preventDefault(),s.setRequestStatus({statusType:"pending"}),r(t.current.value)},children:[Object(m.jsx)(u,{ref:t}),Object(m.jsx)("div",{className:"align-self-center mt-3 mt-lg-0",children:Object(m.jsx)(b,{children:"Search"})})]})},v=function(){return Object(m.jsx)("header",{className:"sticky-top p-3 bg-dark text-white",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(m.jsx)("h3",{className:"nav col-12 col-lg-auto mr-lg-auto mb-3 mb-lg-0 justify-content-center",children:"Movie Info App"}),Object(m.jsx)(h,{})]})})})},x=function(e){return Object(m.jsx)("div",{className:"centered",children:Object(m.jsx)("h2",{children:e.message})})},O=function(e){var t=Object(m.jsxs)("svg",{className:"img-fluid svg-text-centered",width:"100%",height:"225",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Placeholder: Thumbnail",preserveAspectRatio:"xMidYMid slice",focusable:"false",children:[Object(m.jsx)("title",{children:"Placeholder"}),Object(m.jsx)("rect",{width:"100%",height:"100%",fill:"#55595c"}),Object(m.jsx)("text",{x:"50%",y:"50%",fill:"#eceeef",dy:".3em",children:"Image Not Found"})]}),s=Object(m.jsx)("img",{src:e.movieObj.Poster,alt:"",className:"img-fluid"});return Object(m.jsx)(i.a.Fragment,{children:Object(m.jsxs)("div",{className:"container-md movie-font",children:[Object(m.jsxs)("div",{className:"card flex-md-row m-5",children:["N/A"===e.movieObj.Poster?t:s,Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h4",{className:"card-title",children:e.movieObj.Title}),Object(m.jsxs)("ul",{className:"list-group ",children:[Object(m.jsx)("li",{className:"list-group-item",children:"Genre: ".concat(e.movieObj.Genre)}),Object(m.jsx)("li",{className:"list-group-item",children:"Released: ".concat(e.movieObj.Released)}),Object(m.jsx)("li",{className:"list-group-item",children:"IMDB Rating: ".concat(e.movieObj.imdbRating)}),Object(m.jsx)("li",{className:"list-group-item",children:"Director: ".concat(e.movieObj.Director)}),Object(m.jsx)("li",{className:"list-group-item",children:"Writer: ".concat(e.movieObj.Writer)}),Object(m.jsx)("li",{className:"list-group-item",children:"Actors: ".concat(e.movieObj.Actors)}),Object(m.jsx)("li",{className:"list-group-item",children:"Language: ".concat(e.movieObj.Language)})]})]})]}),Object(m.jsx)("div",{className:"card m-5",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h4",{className:"card-title",children:"Plot"}),Object(m.jsx)("p",{children:e.movieObj.Plot})]})})]})})},f=function(e){var t=Object(c.useContext)(j),s=function(){var e=Object(d.a)(o.a.mark((function e(s){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.omdbapi.com/?apikey=3b8cf2cb&i=".concat(s));case 2:return c=e.sent,e.next=5,c.json();case 5:i=e.sent,t.movieInfo=i,t.displayMovieInfo(t.movieInfo);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(m.jsxs)("svg",{className:"card-img-top card-img svg-text-centered",width:"100%",height:"225",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Placeholder: Thumbnail",preserveAspectRatio:"xMidYMid slice",focusable:"false",children:[Object(m.jsx)("title",{children:"Placeholder"}),Object(m.jsx)("rect",{width:"100%",height:"100%",fill:"#55595c"}),Object(m.jsx)("text",{x:"50%",y:"50%",fill:"#eceeef",dy:".3em",children:"Image Not Found"})]}),r=Object(m.jsx)("img",{src:e.movieItem.Poster,alt:"",className:"card-img-top card-img"});return Object(m.jsxs)("div",{className:"card shadow-sm",children:["N/A"===e.movieItem.Poster?i:r,Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:e.movieItem.Title}),Object(m.jsxs)("p",{className:"card-text",children:["Release Year: ",e.movieItem.Year]}),Object(m.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(m.jsx)("div",{className:"btn-group",children:Object(m.jsx)("button",{type:"button",onClick:function(){t.setRequestStatus({statusType:"pending"}),s(e.movieItem.imdbID)},className:"btn btn-sm btn-outline-secondary",children:"View"})})})]})]})},p=function(){var e=Object(c.useContext)(j).movieList.map((function(e){return Object(m.jsx)("div",{className:"col mt-3",children:Object(m.jsx)(f,{movieItem:e})},e.imdbID)}));return Object(m.jsx)("div",{className:"album py-5",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3",children:e})})})},g=s(9),w=s.n(g),N=function(){return Object(m.jsx)("div",{className:w.a.spinner})};var y=function(){var e=Object(c.useContext)(j);return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)(v,{}),e.isLoading&&Object(m.jsx)("div",{className:"centered",children:Object(m.jsx)(N,{})}),e.showMovieList&&Object(m.jsx)(p,{}),e.showMovieDtl&&Object(m.jsx)(O,{movieObj:e.movieInfo}),e.error.showError&&Object(m.jsx)(x,{message:e.error.message})]})},I=s(10),M=s(2),L={showMovieInfo:!1,showMovieSection:!1,isLoading:!1,movieList:[],movieInfo:null,error:{showError:!1,message:null}},R=function(e,t){return"movie-section"===t.type?Object(M.a)(Object(M.a)({},L),{},{showMovieInfo:!1,showMovieSection:!0,isLoading:!1,movieList:t.payload}):"movie-info"===t.type?Object(M.a)(Object(M.a)({},L),{},{showMovieInfo:!0,showMovieSection:!1,isLoading:!1,movieInfo:t.payload}):"pending"===t.type?Object(M.a)(Object(M.a)({},L),{},{isLoading:!0}):"error"===t.type?Object(M.a)(Object(M.a)({},L),{},{error:{showError:!0,message:t.payload}}):void 0},S=function(e){var t=Object(c.useReducer)(R,L),s=Object(I.a)(t,2),i=s[0],r=s[1],n={movieList:i.movieList,showMovieDtl:i.showMovieInfo,showMovieList:i.showMovieSection,diaplayMovies:function(e){r({type:"movie-section",payload:e})},displayMovieInfo:function(e){r({type:"movie-info",payload:e})},movieInfo:i.movieInfo,isLoading:i.isLoading,setRequestStatus:function(e){r({type:e.statusType,payload:e.message})},error:i.error};return Object(m.jsx)(j.Provider,{value:n,children:e.children})};n.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(S,{children:Object(m.jsx)(y,{})})}),document.getElementById("root"))},9:function(e,t,s){e.exports={spinner:"Spinner_spinner__pp2Jt"}}},[[21,1,2]]]);
//# sourceMappingURL=main.4636f42a.chunk.js.map